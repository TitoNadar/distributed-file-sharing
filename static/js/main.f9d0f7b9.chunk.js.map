{"version":3,"sources":["App.js","components/Navbar.js","components/Main.js","components/UploadFile.js","components/NotConnected.js","index.js"],"names":["ipfs","require","create","host","port","protocol","App","props","_this","Object","C_Users_tito_nadar_Documents_GitHub_distributed_file_sharing_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","this","C_Users_tito_nadar_Documents_GitHub_distributed_file_sharing_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__","C_Users_tito_nadar_Documents_GitHub_distributed_file_sharing_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__","call","state","account","fileSharingDapp","postCount","allFiles","buffer","fileType","showFileDetails","loading","connected","uploadFile","bind","C_Users_tito_nadar_Documents_GitHub_distributed_file_sharing_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8__","captureFile","deleteFile","loadWeb3","window","ethereum","web3","Web3","loadBlockchainData","setState","request","method","accounts","eth","defaultAccount","net","getId","networkId","distributedFileSharingDapp","DistributedFileSharingDapp","networks","Contract","abi","address","loadMyAllFiles","methods","getTotalFileCount","totalFilesCount","i","getFileOf","file","fileName","concat","C_Users_tito_nadar_Documents_GitHub_distributed_file_sharing_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","_id","send","from","on","hash","console","log","receipt","_ref","C_Users_tito_nadar_Documents_GitHub_distributed_file_sharing_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","C_Users_tito_nadar_Documents_GitHub_distributed_file_sharing_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","a","mark","_callee5","confirmationNumber","wrap","_context5","prev","next","_this2","stop","_x2","_x3","apply","arguments","error","event","preventDefault","target","files","reader","FileReader","readAsArrayBuffer","onloadend","_this3","Buffer","result","type","setValues","name","convertBytes","size","_name","_size","fileNameBox","document","getElementById","fileTypeBox","fileSizeBox","value","_des","add","then","_this4","path","_ref2","_callee9","_context9","_x9","_x10","catch","bytes","parseInt","Math","floor","round","pow","react__WEBPACK_IMPORTED_MODULE_9___default","createElement","react_router_dom__WEBPACK_IMPORTED_MODULE_10__","className","Fragment","_components_Navbar__WEBPACK_IMPORTED_MODULE_17__","userProfile","role","react_router_dom__WEBPACK_IMPORTED_MODULE_11__","exact","_components_Main__WEBPACK_IMPORTED_MODULE_18__","showDeletedFiles","_components_UploadFile__WEBPACK_IMPORTED_MODULE_19__","_components_NotConnected__WEBPACK_IMPORTED_MODULE_20__","Component","Navbar","react__WEBPACK_IMPORTED_MODULE_5___default","react_router_dom__WEBPACK_IMPORTED_MODULE_6__","to","__webpack_require__","d","__webpack_exports__","Main","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","style","width","borderRadius","class","cellpadding","cellspacing","border","scope","map","key","fileDes","fileSize","href","fileHash","rel","onClick","fileId","toNumber","confirm","UploadFile","react_router_dom__WEBPACK_IMPORTED_MODULE_2__","useHistory","onChange","id","for","maxLength","placeholder","required","disabled","_fileDes","undefined","length","alert","_fileName","NotConnected","src","alt","r","react_dom__WEBPACK_IMPORTED_MODULE_1__","react_dom__WEBPACK_IMPORTED_MODULE_1___default","_App__WEBPACK_IMPORTED_MODULE_3__","ReactDOM","render"],"mappings":"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","file":"static/js/main.f9d0f7b9.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  HashRouter\n} from \"react-router-dom\";\n\nimport Web3 from 'web3';\nimport DistributedFileSharingDapp from './abis/DistributedFileSharingDapp.json'\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport \"bootstrap-icons/font/bootstrap-icons.css\"\n\nimport './components/App.css';\nimport Navbar from './components/Navbar'\nimport Main from './components/Main'\nimport UploadFile from './components/UploadFile'\nimport NotConnected from './components/NotConnected'\n\n\n\nconst ipfsClient = require('ipfs-http-client')\nconst ipfs = ipfsClient.create({ host: \"ipfs.infura.io\", port: 5001, protocol: \"https\" });\n\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      account: '',\n      fileSharingDapp: null,\n      postCount: 0,\n      allFiles: [],\n      buffer: '',\n      fileType: '',\n      showFileDetails: false,\n      loading: true,\n      connected: true\n    }\n    this.uploadFile = this.uploadFile.bind(this)\n    this.captureFile = this.captureFile.bind(this)\n    this.deleteFile = this.deleteFile.bind(this)\n  }\n\n\n  async componentWillMount() {\n    await this.loadWeb3()\n  }\n\n  async loadWeb3() {\n\n    if (window.ethereum) {\n      window.web3 = new Web3(window.ethereum);\n\n      this.loadBlockchainData()\n    } else {\n      this.setState({ connected: false })\n    }\n\n  }\n\n  async loadBlockchainData() {\n    const web3 = new Web3(window.ethereum);\n\n    const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });\n    web3.eth.defaultAccount = accounts[0];\n    this.setState({ account: accounts[0] })\n\n    const networkId = await web3.eth.net.getId()\n    const distributedFileSharingDapp = DistributedFileSharingDapp.networks[networkId]\n\n    if (distributedFileSharingDapp) {\n      const fileSharingDapp = web3.eth.Contract(DistributedFileSharingDapp.abi, distributedFileSharingDapp.address);\n      this.setState({ fileSharingDapp })\n      await this.loadMyAllFiles();\n      this.setState({ loading: false })\n\n    } else {\n      this.setState({ connected: false })\n    }\n  }\n\n  async loadMyAllFiles() {\n    this.setState({\n      allFiles: []\n    })\n    const totalFilesCount = await this.state.fileSharingDapp.methods.getTotalFileCount().call();\n\n    for (let i = totalFilesCount; i >= 1; i--) {\n      let file = await this.state.fileSharingDapp.methods.getFileOf(i).call();\n      if (file.fileName != \"0deleted_\") {\n        this.setState({\n          allFiles: [...this.state.allFiles, file]\n        })\n      }\n    }\n  }\n\n  async deleteFile(_id) {\n    this.setState({\n      loading: true\n    })\n    this.state.fileSharingDapp.methods.deleteFile(_id)\n      .send({ from: this.state.account })\n      .on('transactionHash', (hash) => {\n        console.log('transactionHash', hash);\n      })\n      .on('receipt', (receipt) => {\n      })\n      .on('confirmation', async (confirmationNumber, receipt) => {\n        await this.loadMyAllFiles();\n        this.setState({\n          loading: false\n        })\n      })\n      .on('error', (error, receipt) => {\n        console.log('error', error)\n        console.log('receipt', receipt)\n      });\n  }\n\n  async captureFile(event) {\n    event.preventDefault()\n    const file = event.target.files[0]\n    const reader = new window.FileReader()\n    reader.readAsArrayBuffer(file)\n    reader.onloadend = () => {\n      this.setState({\n        buffer: Buffer(reader.result),\n        fileType: file.type\n      })\n      this.setValues(file.name, this.convertBytes(file.size))\n    }\n  }\n  async setValues(_name, _size) {\n    const fileNameBox = document.getElementById('fileNameBox');\n    const fileTypeBox = document.getElementById('fileTypeBox');\n    const fileSizeBox = document.getElementById('fileSizeBox');\n\n    fileNameBox.value = _name;\n    fileTypeBox.value = this.state.fileType;\n    fileSizeBox.value = _size;\n    this.setState({ showFileDetails: true })\n  }\n\n  async uploadFile(_name, _des) {\n    this.setState({ loading: true });\n    // Add file to the IPFS\n    ipfs.add(this.state.buffer)\n      .then(result => {\n        this.state.fileSharingDapp.methods.uploadFile(result.path, result.size, this.state.fileType, _name, _des)\n          .send({ from: this.state.account })\n          .on('transactionHash', (hash) => {\n            console.log('transactionHash', hash);\n          })\n          .on('receipt', (receipt) => {\n          })\n          .on('confirmation', async (confirmationNumber, receipt) => {\n\n            await this.loadMyAllFiles();\n            this.setState({\n              loading: false,\n              buffer: '',\n              showFileDetails: false\n            })\n          })\n          .on('error', (error, receipt) => {\n            console.log('error', error)\n            console.log('receipt', receipt)\n          });\n      })\n      .catch(error =>\n        console.error(error)\n      )\n\n\n  }\n\n\n\n  convertBytes(bytes) {\n    var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n    if (bytes === 0) return '0 Byte';\n    var i = parseInt(Math.floor(Math.log(bytes) / Math.log(1024)));\n    return Math.round(bytes / Math.pow(1024, i), 2) + ' ' + sizes[i];\n  }\n\n\n  \n\n  render() {\n    return (\n      <HashRouter>\n        <div className=\"\" >\n          {this.state.connected\n            ?\n            <>\n              <Navbar account={this.state.account} userProfile={this.state.userProfile} />\n              {this.state.loading\n                ?\n                <div className=\"text-center m-5\" >\n                  <div className=\"spinner-border bg-light m-auto\" role=\"status\">\n                  </div>\n                </div>\n                :\n                <Switch>\n                  <Route path=\"/\" exact>\n                    <Main account={this.state.account} allFiles={this.state.allFiles} deleteFile={this.deleteFile} showDeletedFiles={this.state.showDeletedFiles} />\n                  </Route>\n\n                  <Route path=\"/uploadfiles\" exact>\n                    <UploadFile account={this.state.account} uploadFile={this.uploadFile} captureFile={this.captureFile} showFileDetails={this.state.showFileDetails} />\n                  </Route>\n\n                </Switch>\n              }\n            </>\n            :\n            <NotConnected />\n          }\n        </div>\n      </HashRouter>\n\n    );\n  }\n}\n\nexport default App;\n","import React, { Component } from 'react';\nimport {\n  Link\n} from \"react-router-dom\";\n\nclass Navbar extends Component {\n\n  render() {\n    return (\n      <nav className=\"navbar navbar-expand-lg navbar-dark bg-transparent \">\n        <div className=\"container\">\n          <Link className=\"navbar-brand\" to=\"/\"><b>Distributed File Sharing</b></Link>\n\n          <div className=\"ms-auto d-flex align-items-center text-light\" >\n\n            <Link to='/uploadfiles' className=\"btn btn-outline-light mr-2\">\n              <i className=\"bi bi-plus-circle-dotted\" ></i>\n            </Link>\n          </div>\n        </div>\n      </nav>\n\n    );\n  }\n}\n\nexport default Navbar;\n","import React from 'react';\nimport {\n  Link\n} from \"react-router-dom\";\n\nexport default function Main(props) {\n  const { allFiles, deleteFile } = props;\n\n  const convertBytes = (bytes) => {\n    var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n    if (bytes === 0) return '0 Byte';\n    var i = parseInt(Math.floor(Math.log(bytes) / Math.log(1024)));\n    return Math.round(bytes / Math.pow(1024, i), 2) + ' ' + sizes[i];\n  }\n\n  function timeConverter(UNIX_timestamp) {\n    var a = new Date(UNIX_timestamp * 1000);\n    var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n    var year = a.getFullYear();\n    var month = months[a.getMonth()];\n    var date = a.getDate();\n    var hours = a.getHours();\n    var minutes = a.getMinutes();\n\n    var ampm = hours >= 12 ? 'pm' : 'am';\n    hours = hours % 12;\n    hours = hours ? hours : 12; // the hour '0' should be '12'\n    minutes = minutes < 10 ? '0' + minutes : minutes;\n\n    var time = date + ' ' + month + ' ' + year + ' ' + hours + ':' + minutes + ' ' + ampm;\n    return time;\n  }\n\n  function deleteFile0(_id) {\n    var _isDelete = window.confirm(\"Are you sure you want to delete this file?\");\n    if (_isDelete) {\n      deleteFile(_id);\n    }\n  }\n\n  return (\n    <div className=\"container text-center  mt-3 mb-5\">\n      <Link to=\"uploadfiles\">\n        <button style={{ width: '30%' }} className=\"btn btn-lg btn-outline-warning mt-4 mb-2\">Upload Your File Here</button>\n      </Link>\n      <div className=\"row\">\n        <div className=\"col bg-dark bg-gradient\" style={{ borderRadius: 40 }}>\n          <section className=\"m-5\">\n            <h1>All Files</h1>\n\n            <div class=\"tbl-header\" >\n              <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style={{ width: '100%' }}>\n                <thead>\n                  <tr className=\"bg-dark text-white\">\n                    <th scope=\"col\" style={{ width: '20%' }}>name</th>\n                    <th scope=\"col\" style={{ width: '25%'}}>description</th>\n                    <th scope=\"col\" style={{ width: '15%'}}>type</th>\n                    <th scope=\"col\" style={{ width: '8%' }}>size</th>\n                    <th scope=\"col\" style={{ width: '12%' }}>View File</th>\n                    <th scope=\"col\" style={{ width: '8%' }}>Delete</th>\n                  </tr>\n                </thead>\n              </table>\n            </div>\n            <div class=\"tbl-content\">\n              <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style={{ width: '100%' }}>\n                <tbody>\n\n                  {allFiles &&\n                    allFiles.map((file, key) => {\n                      return (\n                        <tr>\n                          <td style={{ width: '20%' }}>{file.fileName}</td>\n                          <td style={{ width: '25%' }}>{file.fileDes}</td>\n                          <td style={{ width: '15%' }}>{file.fileType}</td>\n                          <td style={{ width: '8%' }}>{convertBytes(file.fileSize)}</td>\n                           <td style={{ width: '12%' }}><a href={\"https://ipfs.infura.io/ipfs/\" + file.fileHash} rel=\"noopener noreferrer\" target=\"_blank\" className=\"btn btn-primary\">View</a></td>\n                          <td style={{ width: '8%' }}>\n                            <button onClick={() => { deleteFile0(file.fileId.toNumber()) }} className=\"btn btn-outline-danger\"><i class=\"bi bi-trash\"></i></button>\n                          </td>\n                        </tr>\n                      )\n                    })}\n\n\n                </tbody>\n              </table>\n\n            </div>\n          </section>\n        </div>\n      </div>\n    </div>\n\n  )\n}\n\n","import React from 'react'\nimport {\n  useHistory,\n  Link\n} from \"react-router-dom\";\n\nexport default function UploadFile(props) {\n  let history = useHistory();\n\n  const { captureFile, uploadFile, showFileDetails} = props;\n\n  const uploadFile0 = () => {\n    const _fileDes = document.getElementById('fileDesBox').value;\n    if(_fileDes === null || _fileDes === undefined || _fileDes.length < 1){\n      alert(\"description is required\");\n      return;      \n    }\n    const _fileName = document.getElementById('fileNameBox').value;\n    uploadFile(_fileName, _fileDes)\n  }\n\n  return (\n    <div className=\"container text-center  mt-3 mb-5\">\n      <Link to=\"/\">\n        <button style={{ width: '30%' }} className=\"btn btn-lg btn-outline-dark mt-4 mb-2\">Check Uploaded Files</button>\n      </Link>\n      <div className=\"row\">\n        <div className=\"col bg-dark bg-gradient\" style={{ borderRadius: 40 }}>\n          <div class=\"m-5\">\n            <h1 className=\"\">Upload Your File</h1>\n            <div class=\"m-5\" >\n              <input class=\"form-control\" onChange={captureFile} type=\"file\" id=\"formFile\" />\n            </div>\n\n            <div className={`mx-5 text-start text-light ${showFileDetails ? \"\" : \"d-none\"}`} id=\"fileDetailsBox\">\n              <h6 className=\"text-center text-warning\">File Details:-</h6>\n              <div class=\"col-12\">\n                <label for=\"fileNameBox\" class=\"form-label\">File Name</label>\n                <input type=\"text\" class=\"form-control\" maxLength=\"60\" id=\"fileNameBox\" placeholder=\"type file name here \" />\n              </div>\n              <div class=\"col-12 mt-2\">\n                <label for=\"fileDesBox\" class=\"form-label\">File Description</label>\n                <input type=\"text\" class=\"form-control\" maxLength=\"200\" id=\"fileDesBox\" placeholder=\"type file Description here \" required />\n              </div>\n              <div className=\"row mx-2 mt-2\">\n                <div class=\"col-6\">\n                  <label for=\"fileTypeBox\" class=\"form-label\">File Type</label>\n                  <input type=\"text\" class=\"form-control\" id=\"fileTypeBox\" placeholder=\"file type\" disabled />\n                </div>\n                <div class=\"col-6\">\n                  <label for=\"fileSizeBox\" class=\"form-label\">File Size</label>\n                  <input type=\"text\" class=\"form-control\" id=\"fileSizeBox\" placeholder=\"file size\" disabled />\n                </div>\n              </div>\n\n              <div class=\"mt-5 text-center\">\n                <button type=\"submit\" onClick={uploadFile0} class=\"btn btn-warning\">Upload File Now</button>\n              </div>\n            </div>\n\n\n          </div>\n        </div>\n      </div>\n    </div >\n  )\n}\n\n\n\n\n\n\n\n","import React from 'react'\n\nexport default function NotConnected() {\n    return (\n        <div className=\"container text-center bg-light my-5\" style={{ borderRadius: 20 }}>\n            <h1 className=\"mt-3 text-primary\">Please Connect to Ropsten test network</h1>\n            <a href=\"https://faucet.ropsten.be/\" rel=\"noopener noreferrer\" target=\"_blank\" className=\"btn btn-success\">Get free Ether for Ropsten test network</a>\n            <h4 className=\"my-3\">Follow these instructions for connect metamask with Ropsten test network</h4>\n            <hr />\n\n            <h6>1. Install  <a href=\"https://metamask.io/download.html\" rel=\"noopener noreferrer\" target=\"_blank\" className=\"btn btn-outline-primary\">Meta-mask</a></h6>\n            <h6>2. Create Your Account</h6>\n            <h6>3. Connect with Ropsten test network</h6>\n            <h6>4. Get Some Free Ether by Ropsten Faucet</h6>\n            <hr />\n            <img className=\"img-fluid h-50\" src=\"img/ropston.jpg\" alt=\"\" />\n\n        </div>\n    )\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.css'\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}