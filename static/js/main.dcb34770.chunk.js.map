{"version":3,"sources":["App.js","components/Navbar.js","components/Main.js","components/UploadFile.js","components/NotConnected.js","index.js"],"names":["ipfs","require","create","host","port","protocol","App","props","_this","Object","C_Users_tito_nadar_Documents_GitHub_distributed_file_sharing_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","this","C_Users_tito_nadar_Documents_GitHub_distributed_file_sharing_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__","C_Users_tito_nadar_Documents_GitHub_distributed_file_sharing_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__","call","state","account","fileSharingDapp","postCount","allFiles","buffer","fileType","showFileDetails","loading","connected","uploadFile","bind","C_Users_tito_nadar_Documents_GitHub_distributed_file_sharing_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8__","captureFile","deleteFile","loadWeb3","window","ethereum","web3","Web3","loadBlockchainData","setState","request","method","accounts","eth","defaultAccount","net","getId","networkId","distributedFileSharingDapp","DistributedFileSharingDapp","networks","Contract","abi","address","loadMyAllFiles","methods","getTotalFileCount","totalFilesCount","i","getFileOf","file","fileName","concat","C_Users_tito_nadar_Documents_GitHub_distributed_file_sharing_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","_id","send","from","on","hash","console","log","receipt","_ref","C_Users_tito_nadar_Documents_GitHub_distributed_file_sharing_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","C_Users_tito_nadar_Documents_GitHub_distributed_file_sharing_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","a","mark","_callee5","confirmationNumber","wrap","_context5","prev","next","_this2","stop","_x2","_x3","apply","arguments","error","event","preventDefault","target","files","reader","FileReader","readAsArrayBuffer","onloadend","_this3","Buffer","result","type","setValues","name","convertBytes","size","_name","_size","fileNameBox","document","getElementById","fileTypeBox","fileSizeBox","value","_des","add","then","_this4","path","_ref2","_callee9","_context9","alert","_x9","_x10","catch","bytes","parseInt","Math","floor","round","pow","react__WEBPACK_IMPORTED_MODULE_9___default","createElement","react_router_dom__WEBPACK_IMPORTED_MODULE_10__","Fragment","_components_Navbar__WEBPACK_IMPORTED_MODULE_17__","userProfile","className","role","react_router_dom__WEBPACK_IMPORTED_MODULE_11__","exact","_components_Main__WEBPACK_IMPORTED_MODULE_18__","showDeletedFiles","_components_UploadFile__WEBPACK_IMPORTED_MODULE_19__","_components_NotConnected__WEBPACK_IMPORTED_MODULE_20__","Component","Navbar","react__WEBPACK_IMPORTED_MODULE_5___default","react_router_dom__WEBPACK_IMPORTED_MODULE_6__","to","__webpack_require__","d","__webpack_exports__","Main","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","style","width","borderRadius","class","cellpadding","cellspacing","border","scope","map","key","fileDes","fileSize","onClick","navigator","clipboard","writeText","fileHash","copy","height","src","title","href","rel","fileId","toNumber","confirm","UploadFile","react_router_dom__WEBPACK_IMPORTED_MODULE_2__","useHistory","onChange","id","for","maxLength","placeholder","required","disabled","_fileDes","undefined","length","_fileName","NotConnected","alt","r","react_dom__WEBPACK_IMPORTED_MODULE_1__","react_dom__WEBPACK_IMPORTED_MODULE_1___default","_App__WEBPACK_IMPORTED_MODULE_3__","ReactDOM","render"],"mappings":"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","file":"static/js/main.dcb34770.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  HashRouter\n} from \"react-router-dom\";\n\nimport Web3 from 'web3';\nimport DistributedFileSharingDapp from './abis/DistributedFileSharingDapp.json'\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport \"bootstrap-icons/font/bootstrap-icons.css\"\n\nimport './components/App.css';\nimport Navbar from './components/Navbar'\nimport Main from './components/Main'\nimport UploadFile from './components/UploadFile'\nimport NotConnected from './components/NotConnected'\n\n\n\nconst ipfsClient = require('ipfs-http-client')\nconst ipfs = ipfsClient.create({ host: \"ipfs.infura.io\", port: 5001, protocol: \"https\" });\n\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      account: '',\n      fileSharingDapp: null,\n      postCount: 0,\n      allFiles: [],\n      buffer: '',\n      fileType: '',\n      showFileDetails: false,\n      loading: true,\n      connected: true\n    }\n    this.uploadFile = this.uploadFile.bind(this)\n    this.captureFile = this.captureFile.bind(this)\n    this.deleteFile = this.deleteFile.bind(this)\n  }\n\n\n  async componentWillMount() {\n    await this.loadWeb3()\n  }\n\n  async loadWeb3() {\n\n    if (window.ethereum) {\n      window.web3 = new Web3(window.ethereum);\n\n      this.loadBlockchainData()\n    } else {\n      this.setState({ connected: false })\n    }\n\n  }\n\n  async loadBlockchainData() {\n    const web3 = new Web3(window.ethereum);\n\n    const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });\n    web3.eth.defaultAccount = accounts[0];\n    this.setState({ account: accounts[0] })\n\n    const networkId = await web3.eth.net.getId()\n    const distributedFileSharingDapp = DistributedFileSharingDapp.networks[networkId]\n\n    if (distributedFileSharingDapp) {\n      const fileSharingDapp = web3.eth.Contract(DistributedFileSharingDapp.abi, distributedFileSharingDapp.address);\n      this.setState({ fileSharingDapp })\n      await this.loadMyAllFiles();\n      this.setState({ loading: false })\n\n    } else {\n      this.setState({ connected: false })\n    }\n  }\n\n  async loadMyAllFiles() {\n    this.setState({\n      allFiles: []\n    })\n    const totalFilesCount = await this.state.fileSharingDapp.methods.getTotalFileCount().call();\n\n    for (let i = totalFilesCount; i >= 1; i--) {\n      let file = await this.state.fileSharingDapp.methods.getFileOf(i).call();\n      if (file.fileName != \"0deleted_\") {\n        this.setState({\n          allFiles: [...this.state.allFiles, file]\n        })\n      }\n    }\n  }\n\n  async deleteFile(_id) {\n    this.setState({\n      loading: true\n    })\n    this.state.fileSharingDapp.methods.deleteFile(_id)\n      .send({ from: this.state.account })\n      .on('transactionHash', (hash) => {\n        console.log('transactionHash', hash);\n      })\n      .on('receipt', (receipt) => {\n      })\n      .on('confirmation', async (confirmationNumber, receipt) => {\n        await this.loadMyAllFiles();\n        this.setState({\n          loading: false\n        })\n      })\n      .on('error', (error, receipt) => {\n        console.log('error', error)\n        console.log('receipt', receipt)\n      });\n  }\n\n  async captureFile(event) {\n    event.preventDefault()\n    const file = event.target.files[0]\n    const reader = new window.FileReader()\n    reader.readAsArrayBuffer(file)\n    reader.onloadend = () => {\n      this.setState({\n        buffer: Buffer(reader.result),\n        fileType: file.type\n      })\n      this.setValues(file.name, this.convertBytes(file.size))\n    }\n  }\n  async setValues(_name, _size) {\n    const fileNameBox = document.getElementById('fileNameBox');\n    const fileTypeBox = document.getElementById('fileTypeBox');\n    const fileSizeBox = document.getElementById('fileSizeBox');\n\n    fileNameBox.value = _name;\n    fileTypeBox.value = this.state.fileType;\n    fileSizeBox.value = _size;\n    this.setState({ showFileDetails: true })\n  }\n\n  async uploadFile(_name, _des) {\n    this.setState({ loading: true });\n    // Add file to the IPFS\n    ipfs.add(this.state.buffer)\n      .then(result => {\n        this.state.fileSharingDapp.methods.uploadFile(result.path, result.size, this.state.fileType, _name, _des)\n          .send({ from: this.state.account })\n          .on('transactionHash', (hash) => {\n            console.log('transactionHash', hash);\n          })\n          .on('receipt', (receipt) => {\n          })\n          .on('confirmation', async (confirmationNumber, receipt) => {\n              if(confirmationNumber == 1) {\n                await this.loadMyAllFiles();\n                this.setState({\n                  loading: false,\n                  buffer: '',\n                  showFileDetails: false\n                })\n                alert(\"Uploaded successfully. Have a nice day!\")\n              }\n          })\n          .on('error', (error, receipt) => {\n            console.log('error', error)\n            console.log('receipt', receipt)\n          });\n      })\n      .catch(error =>\n        console.error(error)\n      )\n\n\n  }\n\n\n\n  convertBytes(bytes) {\n    var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n    if (bytes === 0) return '0 Byte';\n    var i = parseInt(Math.floor(Math.log(bytes) / Math.log(1024)));\n    return Math.round(bytes / Math.pow(1024, i), 2) + ' ' + sizes[i];\n  }\n\n\n  \n\n  render() {\n    return (\n      <HashRouter>\n        <div >\n          {this.state.connected\n            ?\n            <>\n              <Navbar account={this.state.account} userProfile={this.state.userProfile} />\n              {this.state.loading\n                ?\n                <div className=\"text-center m-5\" >\n                  <div className=\"spinner-border bg-light m-auto\" role=\"status\">\n                  </div>\n                </div>\n                :\n                <Switch>\n                  <Route path=\"/\" exact>\n                    <Main account={this.state.account} allFiles={this.state.allFiles} deleteFile={this.deleteFile} showDeletedFiles={this.state.showDeletedFiles} />\n                  </Route>\n\n                  <Route path=\"/uploadfiles\" exact>\n                    <UploadFile account={this.state.account} uploadFile={this.uploadFile} captureFile={this.captureFile} showFileDetails={this.state.showFileDetails} />\n                  </Route>\n\n                </Switch>\n              }\n            </>\n            :\n            <NotConnected />\n          }\n        </div>\n      </HashRouter>\n\n    );\n  }\n}\n\nexport default App;\n","import React, { Component } from 'react';\nimport {\n  Link\n} from \"react-router-dom\";\n\nclass Navbar extends Component {\n\n  render() {\n    return (\n      <nav className=\"navbar navbar-expand-lg navbar-dark bg-transparent \">\n        <div className=\"container\">\n          <Link className=\"navbar-brand\" to=\"/\"><b>Distributed File Sharing</b></Link>\n\n          <div className=\"ms-auto d-flex align-items-center text-light\" >\n\n            <Link to='/uploadfiles' className=\"btn btn-outline-light mr-2\">\n              <i className=\"bi bi-plus-circle-dotted\" ></i>\n            </Link>\n          </div>\n        </div>\n      </nav>\n\n    );\n  }\n}\n\nexport default Navbar;\n","import React from 'react';\nimport {\n  Link\n} from \"react-router-dom\";\n\nexport default function Main(props) {\n  const { allFiles, deleteFile } = props;\n\n  const convertBytes = (bytes) => {\n    var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n    if (bytes === 0) return '0 Byte';\n    var i = parseInt(Math.floor(Math.log(bytes) / Math.log(1024)));\n    return Math.round(bytes / Math.pow(1024, i), 2) + ' ' + sizes[i];\n  }\n\n  function timeConverter(UNIX_timestamp) {\n    var a = new Date(UNIX_timestamp * 1000);\n    var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n    var year = a.getFullYear();\n    var month = months[a.getMonth()];\n    var date = a.getDate();\n    var hours = a.getHours();\n    var minutes = a.getMinutes();\n\n    var ampm = hours >= 12 ? 'pm' : 'am';\n    hours = hours % 12;\n    hours = hours ? hours : 12; // the hour '0' should be '12'\n    minutes = minutes < 10 ? '0' + minutes : minutes;\n\n    var time = date + ' ' + month + ' ' + year + ' ' + hours + ':' + minutes + ' ' + ampm;\n    return time;\n  }\n\n  function deleteFile0(_id) {\n    var _isDelete = window.confirm(\"Are you sure you want to delete this file?\");\n    if (_isDelete) {\n      deleteFile(_id);\n    }\n  }\n\n  function copy(key) {\n    navigator.clipboard.writeText(\"https://ipfs.infura.io/ipfs/\" + allFiles[key].fileHash);\n    alert(\"Copied Successfully!\");\n  }\n\n  return (\n    <div className=\"container text-center  mt-3 mb-5\">\n      <Link to=\"uploadfiles\">\n        <button style={{ width: '30%' }} className=\"btn btn-lg btn-outline-warning mt-4 mb-2\">Upload Your File Here</button>\n      </Link>\n      <div className=\"row\">\n        <div className=\"col bg-dark bg-gradient\" style={{ borderRadius: 40 }}>\n          <section className=\"m-5\">\n            <h1>All Files</h1>\n\n            <div class=\"tbl-header\" >\n              <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style={{ width: '100%' }}>\n                <thead>\n                  <tr className=\"bg-dark text-white\">\n                    <th scope=\"col\" style={{ width: '20%' }}>name</th>\n                    <th scope=\"col\" style={{ width: '25%'}}>description</th>\n                    <th scope=\"col\" style={{ width: '15%'}}>type</th>\n                    <th scope=\"col\" style={{ width: '12%' }}>size</th>\n                    <th scope=\"col\" style={{ width: '8%' }}>share</th>\n                    <th scope=\"col\" style={{ width: '12%' }}>View File</th>\n                    <th scope=\"col\" style={{ width: '8%' }}>Delete</th>\n                  </tr>\n                </thead>\n              </table>\n            </div>\n            <div class=\"tbl-content\">\n              <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style={{ width: '100%' }}>\n                <tbody>\n\n                  {allFiles &&\n                    allFiles.map((file, key) => {\n                      return (\n                        <tr>\n                          <td style={{ width: '20%' }}>{file.fileName}</td>\n                          <td style={{ width: '25%' }}>{file.fileDes}</td>\n                          <td style={{ width: '15%' }}>{file.fileType}</td>\n                          <td style={{ width: '12%' }}>{convertBytes(file.fileSize)}</td>\n                          <td style={{ width: '8%' }}><button className=\"btn btn-outline-warning\" onClick={() => {copy(key)}}><img style = {{width : '45px', height: '30px'}} src=\"http://clipground.com/images/copy-4.png\"  title=\"Click to Copy\" /></button></td>\n                           <td style={{ width: '12%' }}><a href={\"https://ipfs.infura.io/ipfs/\" + file.fileHash} rel=\"noopener noreferrer\" target=\"_blank\" className=\"btn btn-primary\">View</a></td>\n                          <td style={{ width: '8%' }}>\n                            <button onClick={() => { deleteFile0(file.fileId.toNumber()) }} className=\"btn btn-outline-danger\"><i class=\"bi bi-trash\"></i></button>\n                          </td>\n                        </tr>\n                      )\n                    })}\n\n\n                </tbody>\n              </table>\n\n            </div>\n          </section>\n        </div>\n      </div>\n    </div>\n\n  )\n}\n\n","import React from 'react'\nimport {\n  useHistory,\n  Link\n} from \"react-router-dom\";\n\nexport default function UploadFile(props) {\n  let history = useHistory();\n\n  const { captureFile, uploadFile, showFileDetails} = props;\n\n  const uploadFile0 = () => {\n    const _fileDes = document.getElementById('fileDesBox').value;\n    if(_fileDes === null || _fileDes === undefined || _fileDes.length < 1){\n      alert(\"description is required\");\n      return;      \n    }\n    const _fileName = document.getElementById('fileNameBox').value;\n    uploadFile(_fileName, _fileDes)\n  }\n\n  return (\n    <div className=\"container text-center  mt-3 mb-5\">\n      <Link to=\"/\">\n        <button style={{ width: '30%' }} className=\"btn btn-lg btn-outline-dark mt-4 mb-2\">Check Uploaded Files</button>\n      </Link>\n      <div className=\"row\">\n        <div className=\"col bg-dark bg-gradient\" style={{ borderRadius: 40 }}>\n          <div class=\"m-5\">\n            <h1 className=\"\">Upload Your File</h1>\n            <div class=\"m-5\" >\n              <input class=\"form-control\" onChange={captureFile} type=\"file\" id=\"formFile\" />\n            </div>\n\n            <div className={`mx-5 text-start text-light ${showFileDetails ? \"\" : \"d-none\"}`} id=\"fileDetailsBox\">\n              <h6 className=\"text-center text-warning\">File Details:-</h6>\n              <div class=\"col-12\">\n                <label for=\"fileNameBox\" class=\"form-label\">File Name</label>\n                <input type=\"text\" class=\"form-control\" maxLength=\"60\" id=\"fileNameBox\" placeholder=\"type file name here \" />\n              </div>\n              <div class=\"col-12 mt-2\">\n                <label for=\"fileDesBox\" class=\"form-label\">File Description</label>\n                <input type=\"text\" class=\"form-control\" maxLength=\"200\" id=\"fileDesBox\" placeholder=\"type file Description here \" required />\n              </div>\n              <div className=\"row mx-2 mt-2\">\n                <div class=\"col-6\">\n                  <label for=\"fileTypeBox\" class=\"form-label\">File Type</label>\n                  <input type=\"text\" class=\"form-control\" id=\"fileTypeBox\" placeholder=\"file type\" disabled />\n                </div>\n                <div class=\"col-6\">\n                  <label for=\"fileSizeBox\" class=\"form-label\">File Size</label>\n                  <input type=\"text\" class=\"form-control\" id=\"fileSizeBox\" placeholder=\"file size\" disabled />\n                </div>\n              </div>\n\n              <div class=\"mt-5 text-center\">\n                <button type=\"submit\" onClick={uploadFile0} class=\"btn btn-warning\">Upload File Now</button>\n              </div>\n            </div>\n\n\n          </div>\n        </div>\n      </div>\n    </div >\n  )\n}\n\n\n\n\n\n\n\n","import React from 'react'\n\nexport default function NotConnected() {\n    return (\n        <div className=\"container text-center bg-light my-5\" style={{ borderRadius: 20 }}>\n            <h1 className=\"mt-3 text-primary\">Please Connect to Ropsten test network</h1>\n            <a href=\"https://faucet.metamask.io/\" rel=\"noopener noreferrer\" target=\"_blank\" className=\"btn btn-success\">Get free Ether for Ropsten test network</a>\n            <h4 className=\"my-3\">Follow these instructions for connect metamask with Ropsten test network</h4>\n            <hr />\n\n            <h6>1. Install  <a href=\"https://metamask.io/download.html\" rel=\"noopener noreferrer\" target=\"_blank\" className=\"btn btn-outline-primary\">Meta-mask</a></h6>\n            <h6>2. Create Your Account</h6>\n            <h6>3. Connect with Ropsten test network</h6>\n            <h6>4. Get Some Free Ether by Ropsten Faucet</h6>\n            <hr />\n            <img className=\"img-fluid h-50\" src=\"img/ropston.jpg\" alt=\"\" />\n\n        </div>\n    )\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.css'\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}